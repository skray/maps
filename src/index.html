<!DOCTYPE html>
<html lang="en">
<head>
    <title>Maps</title>
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />
    <style>
        html, body {
            margin: 0;
            padding: 0;
        }
        #map { 
            position: absolute;
            top: 0;
            bottom: 100px;
            width: 100%;
        }

        #ranger {
            position: absolute;
            bottom: 30px;
            width:94%;
            margin: 0 3% 0 3%;
        }
    </style>
</head>

<body>

    <div id="map"></div>
    <input id="ranger" type="range">


    <script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
    <script src="http://www.mapquestapi.com/sdk/leaflet/v1.s/mq-map.js?key=Fmjtd%7Cluurn902ll%2Cb0%3Do5-9wt2gz"></script>
    

    <script>

        var center = [51.505, -0.09];
        var initialZoom = 11;
        var markerPts = [[51.5, -0.09],[51.505, -0.09],[51.51, -0.09]];
        var markers = [];
        var map;
        var ranger = document.getElementById("ranger");

        // mapquest
        map = L.map('map', {
            layers: MQ.mapLayer(),
            center: center,
            zoom: initialZoom
        });

        //mapbox
        // map = L.map('map').setView(center, initialZoom);

        L.tileLayer('http://{s}.tiles.mapbox.com/v3/seankennethray.map-zjkq5g6o/{z}/{x}/{y}.png', {
            attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="http://mapbox.com">Mapbox</a>',
            maxZoom: 18
        }).addTo(map);

        ranger.addEventListener("input", function(e) {
            addMarkers(e.target.value);
        });

        addMarkers(ranger.value);

        function addMarkers(num) {
            for(var i=0; i < markers.length; i++) {
                map.removeLayer(markers[i]);
            }

            markers = [];

            for(var i=0; i < num; i++) {
                markers.push(new L.marker([center[0]+(i*0.005), center[1]+(i*0.005)]));
                map.addLayer(markers[i]);
            }
        }
        
        
    </script>
</body>
</html>
